@using Abp.Authorization.Users
@using ServiceControl.Web.Models.Common.Modals
@using ServiceControl.Web.Models.Users
@model SalesRepCompanyModalViewModel
@{
    Layout = null;
}
@await Html.PartialAsync("~/Views/Shared/Modals/_ModalHeader.cshtml", new ModalHeaderViewModel(L("Company")))
<form name="UserEditForm" role="form" class="form-horizontal">
    <input type="hidden" name="Id" value="@Model.User.Id" />
    <div class="modal-body">
        <div role="tabpanel" class="tab-pane container animated fadeIn" id="edit-user-company">
            <div class="card-body">
                @foreach (var item in Model.Company)
                {
                    <div class="form-group row">
                        <div class="col-md-2">
                            <input type="checkbox" name="company" value="@item.Id" title="@item.Name" class="filled-in" id="@($"company{item.Id}")" @(Model.UserIsInCompany(item) ? "checked" : "") />
                            <label for="@($"company{item.Id}")" title="@item.Name">@item.Name</label>
                        </div>
                        <div class="col-md-10">
                            <input type="text" name="code" value="@(Model.UserIsInCompanyCode(item))" class="form-control" id="@($"companyCode{item.Id}")" placeholder="Enter code">
                        </div>
                    </div>
                }
            </div>
        </div>
    </div>
    @await Html.PartialAsync("~/Views/Shared/Modals/_ModalFooterWithSaveAndCancel.cshtml")
</form>

<script src="~/view-resources/Views/Users/_CompanyModal.js" asp-append-version="true"></script>
